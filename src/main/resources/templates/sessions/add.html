<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
    <head th:replace="fragments :: head"></head>
    <body>

        <div th:replace="fragments :: page-header"></div>

        <div class="container body-content">
            <h2 th:text="${title}">IndyCar Stats</h2>

            <form method="post" action="/sessions/add" class="add-form" th:object="${form}">
                <div class="form-group">
                    <input placeholder="Name" class="form-control" th:field="*{name}" required="required"/>
                    <span th:errors="*{name}" class="error"></span>
                </div>

                <div class="form-group">
                    <label th:for="raceid">Races</label>
                    <select th:field="*{raceid}">
                        <option th:each="race : *{races}" th:text="${race.name} + ' in ' + ${race.season.year}" th:value="${race.id}"></option>
                    </select>
                    <span th:errors="*{raceid}" class="error"></span>
                </div>

                <!--<input type="hidden" name="raceid" th:value="race.id" />-->
                <input type="hidden" th:field="*{loggedin}" />

                <input type="submit" value="Add Session" />
            </form>

            <ul>
                <li><a href="/races/add">Add Race</a></li>
            </ul>

        </div>

        <div th:replace="fragments :: session-footer"></div>

    </body>
</html>
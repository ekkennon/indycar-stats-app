<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head th:replace="fragments :: head"></head>
<body>

<div th:replace="fragments :: page-header"></div>

<div class="container body-content">
    <h2 th:text="${title}">IndyCar Stats</h2>

    <form method="post" action="/sessions/add" class="add-form" th:object="${form}">
        <div class="form-group">
            <input placeholder="Name" class="form-control" th:field="*{name}" required="required"/>
            <span th:errors="*{name}" class="error"></span>
        </div>

        <div class="form-group">
            <label th:for="raceid">Races</label>
            <select name="raceid">
                <option th:each="race : *{races}"
                        th:text="${race.name}"
                        th:value="${race.id}"></option>
            </select>
            <span th:errors="*{raceid}" class="error"></span>
        </div>

        <!--<input type="hidden" name="raceid" th:value="race.id" />-->
        <input type="hidden" name="loggedin" id="loggedin_e" th:value="*{loggedin}" />

        <input type="submit" value="Edit Session" />
    </form>

    <form method="post" action="'/sessions/remove/' + ${session.id}" class="add-form">
        <input type="text" name="loggedin" id="loggedin_r" th:value="*{loggedin}" />
        <input type="submit" value="Remove Session" />
    </form>

    <ul>
        <li><a href="/races/add">Add Race</a></li>
    </ul>

</div>

<div th:replace="fragments :: session-footer"></div>

</body>
</html>
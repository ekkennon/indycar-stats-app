<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
    <head th:replace="fragments :: head"></head>
    <body>

        <div th:replace="fragments :: page-header"></div>

        <div class="container body-content">
            <h2 th:text="${title}">IndyCar Stats</h2>

            <form method="post" class="add-form" th:object="${form}">
                <div class="form-group">
                    <input class="form-control" th:field="*{name}" required="required"/>
                    <span th:errors="*{name}" class="error"></span>
                </div>

                <div class="form-group">
                    <label th:for="races">Races</label>
                    <select name="races">
                        <option th:each="race : *{races}" th:selected="${race.id} == *{raceid}"
                                th:text="${race.name}" th:value="${race.id}"></option>
                    </select>
                    <span th:errors="*{races}" class="error"></span>
                </div>

                <input type="hidden" th:field="*{loggedin}" />
                <input type="hidden" th:field="*{id}" />

                <input type="submit" value="Edit Session" />
            </form>

            <form method="post" th:action="'/sessions/remove/' + ${form.id}" class="add-form">
                <input type="hidden" name="loggedin" id="loggedin" th:value="${form.loggedin}" />
                <input type="submit" value="Remove Session" />
            </form>

            <ul>
                <li><a href="/races/add">Add Race</a></li>
            </ul>

        </div>

        <div th:replace="fragments :: session-footer"></div>

    </body>
</html>